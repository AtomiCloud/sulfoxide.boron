# atomi-internal-ingress

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 2023.7.3](https://img.shields.io/badge/AppVersion-2023.7.3-informational?style=flat-square)

Internal Ingress for AtomiCloud using Cloudflared

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` | afinity |
| auth | object | `{"external":{"enable":true,"policy":{"creation":"Owner","deletion":"Retain"},"refreshInterval":"1m","remoteSecretName":"cluster/cloudflared/token","secretStore":{"kind":"ClusterSecretStore","name":"awsssm-store"}},"internal":{"enable":false,"token":""},"secretName":"cloudflare-tunnel-token"}` | Cloudflare Tunnel Token Mechanism |
| auth.external | object | `{"enable":true,"policy":{"creation":"Owner","deletion":"Retain"},"refreshInterval":"1m","remoteSecretName":"cluster/cloudflared/token","secretStore":{"kind":"ClusterSecretStore","name":"awsssm-store"}}` | Use external secret |
| auth.external.enable | bool | `true` | Enable the use of external secret |
| auth.external.policy | object | `{"creation":"Owner","deletion":"Retain"}` | Secret policy |
| auth.external.policy.creation | string | `"Owner"` | Creation policy |
| auth.external.policy.deletion | string | `"Retain"` | Deletion policy |
| auth.external.refreshInterval | string | `"1m"` | Refresh Rate |
| auth.external.remoteSecretName | string | `"cluster/cloudflared/token"` | Remote Secret Reference name |
| auth.external.secretStore.kind | string | `"ClusterSecretStore"` | Kind of the Secret Store: ClusterSecretStore or SecretStore |
| auth.external.secretStore.name | string | `"awsssm-store"` | Name of the Secret Store |
| auth.internal | object | `{"enable":false,"token":""}` | Secret directly inlined in value files |
| auth.internal.enable | bool | `false` | Use hard coded secret |
| auth.internal.token | string | `""` | Hard coded Cloudflare token |
| auth.secretName | string | `"cloudflare-tunnel-token"` | Secret Name that stores the Token with key TUNNEL_TOKEN |
| autoscaling | object | `{"enabled":true,"maxReplicas":3,"minReplicas":1,"targetCPUUtilizationPercentage":80,"targetMemoryUtilizationPercentage":80}` | Auto-scaling |
| autoscaling.enabled | bool | `true` | Enable or disable auto-scaling |
| autoscaling.targetCPUUtilizationPercentage | int | `80` | Target CPU Utilization |
| autoscaling.targetMemoryUtilizationPercentage | int | `80` | Target Memory Utilization |
| config.clusterIpVersion | int | `4` | target kubernetes cluster IP family. 4 or 6 |
| config.metricPort | int | `2000` | Ports which cloudflared listen to metrics on |
| image | object | `{"pullPolicy":"IfNotPresent","repository":"cloudflare/cloudflared"}` | Image configurations |
| imagePullSecrets | list | `[]` | Image pull secrets |
| nameOverride | string | `""` | Override name ( will change only the chart name) |
| nodeSelector | object | `{}` | node selectors |
| podAnnotations | object | `{}` | Additional Annotations to add to pods |
| podSecurityContext | object | `{}` | Security Context for Pods |
| replicaCount | int | `1` | Number of Replicas, only if HPA is not enabled |
| resources | object | `{"limits":{"cpu":"50m","memory":"256Mi"},"requests":{"cpu":"15m","memory":"128Mi"}}` | resource limits |
| securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"runAsNonRoot":true,"runAsUser":10000}` | Generate security Context |
| serviceTree.cluster | string | `"opal"` | Cluster for AtomiCloud's Service Tree |
| serviceTree.landscape | string | `"pichu"` | L of LPSM of AtomiCloud Service Tree |
| serviceTree.layer | string | `"1"` | Layer for AtomiCloud's Service Tree |
| serviceTree.module | string | `"tunnel"` | M of LPSM for AtomiCloud's Service Tree |
| serviceTree.platform | string | `"systems"` | P of LPSM for AtomiCloud's Service Tree |
| serviceTree.service | string | `"internal-ingress"` | S of LPSM for AtomiCloud's Service Tree |
| tolerations | list | `[]` | toleration |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.1](https://github.com/norwoodj/helm-docs/releases/v1.11.1)